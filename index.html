<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>تسجيل في المخيم التدريبي</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
    body {
      background: url('background3.JPG') no-repeat center center fixed;
      background-size: cover;
      font-family: 'Cairo', sans-serif;
      margin: 0; padding: 0;
    }
    .overlay { min-height:100vh; padding:30px 20px; display:flex; flex-direction:column; align-items:center; }
    .logo { opacity:0.8; width:51%; margin-bottom:20px; border-radius:15px; box-shadow:0 10px 30px rgba(0,0,0,0.2); border:2px solid #3e6b48; }
    .container { max-width:700px; width:100%; background-color:rgba(255,255,255,0.8); padding:30px; border-radius:15px; box-shadow:0 10px 30px rgba(0,0,0,0.2); border:2px solid #3e6b48; }
    h2 { text-align:center; color:#2e5939; margin-bottom:25px; }
    form label { display:block; margin-top:18px; margin-bottom:6px; font-weight:bold; color:#2f4f4f; }
    form input, form select, form textarea { width:100%; padding:12px; border-radius:8px; border:1px solid #bbb; background-color:rgba(255,255,255,0.7); font-size:15px; box-sizing:border-box; }
    form input:focus, form select:focus, form textarea:focus { border-color:#3e6b48; outline:none; background-color:#fff; }
    textarea { resize:vertical; min-height:80px; }
    button { display:block; margin:30px auto 0; background-color:#3e6b48; color:white; padding:15px; border:none; border-radius:8px; width:50%; font-size:18px; font-weight:bold; cursor:pointer; transition:background 0.3s ease; }
    button:hover { background-color:#2c4d34; }
    @media (max-width:600px) { .container { padding:20px; } .logo { max-width:100px; } button { width:80%; } }
    #thankYouSection { display:none; text-align:center; color:#2f4f4f; margin-top: 30px; }
    .hp { position:absolute; left:-9999px; }
  </style>
</head>
<body>
  <div class="overlay">
    <img src="logo.jpg" alt="شعار المخيم" class="logo" />
    
    <div class="container" id="form-container">
      <h2>⛺ تسجيل في المخيم التدريبي ⛺</h2>
      <h2>25/26/27‑07‑2025</h2>

      <form id="infoForm" action="https://formsubmit.co/pioneersacademy64@gmail.com" method="POST">
        <input type="hidden" name="_captcha" value="false">

        <label>الاسم و اللقب</label>
        <input type="text" name="fullname" required />
        <label>الرتبة بالشركة</label>
        <select name="position" required>
          <option value="">اختر</option>
          <option value="junior">junior</option>
          <option value="senior">senior</option>
          <option value="expert">expert</option>
          <option value="leader">leader</option>
          <option value="manager">manager</option>
        </select>
        <label>اسم القائد متاعك</label>
        <input type="text" name="leader" required />
        <label>رقم الهاتف</label>
        <input type="tel" name="phone" pattern="[0-9]{8,15}" />
        <label>مقاس القميص</label>
        <select name="shirt_size" required>
          <option value="">اختر</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
        </select>
        <label>ماهي نظرتك على المخيم؟</label>
        <textarea name="view" required></textarea>
        <label>الهدف لذهابك للمخيم</label>
        <textarea name="goal" required></textarea>
        <label>أقوى صفة فيك</label>
        <input type="text" name="strength" required />
        <label>صفة سلبية تريد تغييرها</label>
        <input type="text" name="weakness" required />
        <label>نسبة الشغف لحضور المخيم (1‑100)</label>
        <input type="number" name="passion" min="1" max="100" required />

        <button type="submit">🚀 إرسال الطلب</button>
      </form>
    </div>

    <div class="thank-you-container" id="thankYouSection">
      <h1>✨تم تسجيلك في المخيم!!</h1>
      <p>كن مستعدا</p>
    </div>
  </div>

<script>
  const form = document.getElementById('infoForm');
  const formSection = document.getElementById('form-container');
  const thankYouSection = document.getElementById('thankYouSection');
  const submitButton = form.querySelector('button[type="submit"]'); // ✅ هذا هو السطر المهم

  form.addEventListener('submit', function(event) {
    event.preventDefault();

    submitButton.disabled = true;
    submitButton.innerText = "⏳ جارٍ الإرسال...";

    const formData = new FormData(form);
    fetch(form.action, {
      method: "POST",
      body: formData,
      headers: {
        'Accept': 'application/json'
      }
    }).then(response => {
      if (response.ok) {
        formSection.style.display = 'none';
        thankYouSection.style.display = 'block';
      } else {
        alert("حدث خطأ أثناء الإرسال. حاول مجددًا.");
        submitButton.disabled = false;
        submitButton.innerText = "🚀 إرسال الطلب";
      }
    }).catch(error => {
      console.error("Error:", error);
      alert("فشل في الاتصال بالسيرفر.");
      submitButton.disabled = false;
      submitButton.innerText = "🚀 إرسال الطلب";
    });
  });
</script>
</body>
</html>

